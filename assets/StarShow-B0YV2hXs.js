import{r as a,j as w}from"./index-D8asLrMa.js";import{p as d}from"./vendor-p5-BCjHoamp.js";import"./vendor-react-Csw2ODfV.js";const g="/hayami/assets/hammer-sickle-C8NRi_Ou.png",u="/hayami/assets/hammer-sickle-1-D5r3wBPk.png",I="/hayami/assets/hammer-sickle-2-DNZpGcDo.png",f="/hayami/assets/hammer-sickle-3-DAPkIR-I.png",y="/hayami/assets/hammer-sickle-4-D9FIL4wn.png",k="/hayami/assets/hammer-sickle-5-LjVeWAun.png",z="/hayami/assets/star-Ce15kNlV.png",S="/hayami/assets/star-1-CfUoNO1P.png",D="/hayami/assets/star-2-Bwj-SNf0.png",N="/hayami/assets/star-3-DDiLtilY.png",x="/hayami/assets/star-4-BkZbyDir.png",E="/hayami/assets/star-5-S3gtvdYw.png",R=500,P=4,v=4,C=26,M=[g,u,I,f,y,k,z,S,D,N,x,E],W=a.memo(()=>{const c=a.useRef(),n=a.useRef(null),m=a.useCallback(()=>s=>{let i=[],e=[];class l{constructor(){this.reset(),this.img=e[Math.floor(s.random(e.length))]}reset(){this.x=s.random(-s.width,s.width),this.y=s.random(-s.height,s.height),this.z=s.random(s.width),this.pz=this.z}update(){this.z=this.z-P,this.z<1&&(this.z=s.width/2,this.reset(),e.length>0&&(this.img=e[Math.floor(s.random(e.length))]))}show(){if(!this.img)return;const o=s.map(this.x/this.z,0,1,0,s.width/2),h=s.map(this.y/this.z,0,1,0,s.height/2),r=s.map(this.z,0,s.width/2,C,v);s.image(this.img,o,h,r,r),this.pz=this.z}}s.setup=async()=>{s.createCanvas(window.innerWidth,window.innerHeight);try{e=await Promise.all(M.map(t=>new Promise((o,h)=>{s.loadImage(t,o,r=>h(r))})))}catch(t){console.error("Failed to load images:",t);return}for(let t=0;t<R;t++)i[t]=new l},s.draw=()=>{if(e.length!==0){s.background(0),s.translate(s.width/2,s.height/2);for(let t=0;t<i.length;t++)i[t].update(),i[t].show()}},s.windowResized=()=>{s.resizeCanvas(window.innerWidth,window.innerHeight)}},[]);return a.useEffect(()=>{const s=m();return n.current=new d(s,c.current),()=>{n.current&&(n.current.remove(),n.current=null)}},[m]),w.jsx("div",{ref:c,className:"star-show-canvas"})});W.displayName="StarShow";export{W as default};
