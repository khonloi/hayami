import{r as t,R,j as e,t as S}from"./index-eRhLiy33.js";import"./vendor-react-Csw2ODfV.js";const w=t.memo(()=>{const[r,h]=t.useState(null),[c,i]=t.useState(!1),[u,o]=t.useState(0),[d,v]=t.useState(0),[b,x]=t.useState("4/3"),s=t.useRef(null),m=t.useRef(null);R.useEffect(()=>()=>{r&&URL.revokeObjectURL(r)},[r]);const j=t.useCallback(()=>{m.current.click()},[]),y=t.useCallback(n=>{const a=n.target.files[0];if(a){const l=URL.createObjectURL(a);h(l),i(!1),o(0)}},[]),p=t.useCallback(()=>{s.current&&(c?s.current.pause():s.current.play(),i(!c))},[c]),g=t.useCallback(()=>{s.current&&(s.current.pause(),s.current.currentTime=0,i(!1),o(0))},[]),k=t.useCallback(()=>{s.current&&o(s.current.currentTime)},[]),N=t.useCallback(()=>{if(s.current){v(s.current.duration);const{videoWidth:n,videoHeight:a}=s.current;n&&a&&x(`${n}/${a}`)}},[]),C=t.useCallback(n=>{const a=parseFloat(n.target.value);s.current&&(s.current.currentTime=a,o(a))},[]),f=n=>{const a=Math.floor(n/60),l=Math.floor(n%60);return`${a}:${l.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"video-player-container",children:[e.jsx("div",{className:"video-area",children:e.jsx("div",{className:"video-display-wrapper",style:{aspectRatio:r?b:"4/3"},children:r?e.jsx("video",{ref:s,src:r,onTimeUpdate:k,onLoadedMetadata:N,onClick:p,className:"video-element"}):e.jsx("div",{className:"default-display",children:e.jsx("img",{src:S,alt:"Default",className:"center-icon"})})})}),e.jsxs("div",{className:"video-controls",children:[e.jsx("div",{className:"seek-bar-section",children:e.jsx("input",{type:"range",min:"0",max:d||0,step:"0.1",value:u,onChange:C,className:"seek-bar"})}),e.jsxs("div",{className:"controls-bottom-row",children:[e.jsxs("div",{className:"buttons-section",children:[e.jsx("button",{onClick:p,className:"window-button program-button",children:c?"Pause":"Play"}),e.jsx("button",{onClick:g,className:"window-button program-button",children:"Stop"}),e.jsx("button",{onClick:j,className:"window-button program-button",children:"Import"})]}),e.jsxs("div",{className:"time-display",children:[f(u)," / ",f(d)]}),e.jsx("input",{type:"file",ref:m,onChange:y,accept:"video/*",style:{display:"none"}})]})]})]})});w.displayName="VideoPlayer";export{w as default};
